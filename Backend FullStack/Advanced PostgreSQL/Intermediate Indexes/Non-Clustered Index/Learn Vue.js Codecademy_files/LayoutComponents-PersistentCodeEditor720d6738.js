(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[466],{"8nqx":function(e,t,n){"use strict";n.r(t),n.d(t,"PersistentCodeEditorWrapper",(function(){return PersistentCodeEditorWrapper}));var o=n("ODXe"),l=n("sEfC"),a=n.n(l),c=n("yrBZ"),i=n("QqFe"),s=n("ZK4f"),r=n("q1tI"),u=n.n(r),d=n("/MKj"),m=n("dIjy"),b=n("z9KF"),f=n("c2gB"),E=n("QtoC"),O=n("GwnQ"),w=n("vfkt"),g=n("bCom"),p=n("rL5b"),F="loader__2h3yLmGmMRU1DEZmVhlSFw",_="codeEditor__1zGkuHOGsgQDqYDvB95kRZ",h=n("ytuh");let j;!function(e){e[e.Hidden=0]="Hidden",e[e.Review=1]="Review",e[e.Solution=2]="Solution"}(j||(j={}));const PersistentCodeEditorWrapper=({config:e,shouldShowCheckWorkButton:t=!1,toggleFullScreen:n})=>{const l=Object(f.c)(),S=l.files,v=void 0===S?{}:S,B=l.currentFile,C=l.ready,k=l.openFile,D=l.openFiles,R=l.closeFile,y=l.requestFile,L=l.updateFile,x=l.fetchWorkspace,G=l.submitting,A=l.testResults,H=l.persistWorkspace,N=Object(d.useSelector)(E.b),q=B?v[B]:null,K=B&&Boolean(q),M=Object(r.useState)(!1),Q=Object(o.a)(M,2),W=Q[0],Z=Q[1],z=e.no_run_button;Object(r.useEffect)((()=>{W&&x()}),[W,x]),Object(r.useEffect)((()=>{C&&B&&!K&&y(B)}),[B,K,C,y]);const T=Object(r.useMemo)((()=>a()(H,2e3)),[H]),U=Object(r.useCallback)((e=>{L(e),T()}),[T,L]),I=(({submitting:e,testResults:t}={})=>{const n=Object(f.c)().workspaceSlug,l=Object(r.useState)(0),a=Object(o.a)(l,2),c=a[0],i=a[1],s=e||{},u=s.isSubmitting,d=s.hasSubmitted;switch(Object(r.useEffect)((()=>{d&&!u&&t&&i(t.pass?0:e=>e+1)}),[u,t,d]),Object(r.useEffect)((()=>{i(0)}),[n]),c){case 0:return j.Hidden;case 1:return j.Review;default:return j.Solution}})({submitting:G,testResults:A}),P=Object(r.useState)(),V=Object(o.a)(P,2),X=V[0],Y=V[1],J=Object(r.useCallback)((()=>{Z(!W)}),[Z,W]),$=u.a.createElement(u.a.Fragment,null,u.a.createElement(p.a,null),u.a.createElement("div",{className:F},u.a.createElement(b.a,null)));if(!C)return $;const ee=u.a.createElement(c.b,{center:!0,column:!0,flexGrow:1,"data-testid":"code-editor-placeholder"},u.a.createElement(s.a,{size:48}),u.a.createElement("div",{style:{marginTop:15}},"Code Editor"),!W&&u.a.createElement(i.d,{mt:24,onClick:()=>Z(!0),variant:"secondary"},"Open file")),te=D.length?$:ee,ne=e.navigator_disabled&&!N,oe=Boolean(!t&&B),le=!ne&&W;return u.a.createElement(c.b,{flexDirection:"row",flexGrow:1,maxHeight:"100%"},le&&u.a.createElement(m.a,{open:!0,toggleLayout:J}),u.a.createElement(c.b,{flexBasis:"0%",flexDirection:"column",flexGrow:1,overflow:"hidden"},u.a.createElement(h.a,{toggleFullScreen:n,canCloseFiles:!ne,canEditFiles:!ne,currentFileName:B,openFiles:D,onOpenFile:k,onCloseFile:R,navOpen:W,onToggleNav:J}),u.a.createElement(c.b,{column:!0,flexGrow:1},K&&B?u.a.createElement(w.a,{className:_,file:v[B],key:B,onEditorLoad:Y,updateFile:z?U:L}):te),u.a.createElement(g.a,{submitMode:O.d.RunAndTest,editor:X,showRunButton:oe,showReviewButton:I===j.Review,showSolutionButton:I===j.Solution,showPrettifyButton:!0})))};t.default=PersistentCodeEditorWrapper}}]);
//# sourceMappingURL=LayoutComponents-PersistentCodeEditor~720d6738.218c9419f7b9bcc82616.chunk.js.map